/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */
/*! NOTE: If you're already including a window.matchMedia polyfill via Modernizr or otherwise, you don't need this part */
window.matchMedia=window.matchMedia||function(d){var f,e=d.documentElement,h=e.firstElementChild||e.firstChild,l=d.createElement("body"),j=d.createElement("div");j.id="mq-test-1";j.style.cssText="position:absolute;top:-100em";l.style.background="none";l.appendChild(j);return function(d){j.innerHTML='&shy;<style media="'+d+'"> #mq-test-1 { width: 42px; }</style>';e.insertBefore(l,h);f=42==j.offsetWidth;e.removeChild(l);return{matches:f,media:d}}}(document);
(function(d){function f(){u(!0)}d.respond={};respond.update=function(){};respond.mediaQueriesSupported=d.matchMedia&&d.matchMedia("only all").matches;if(!respond.mediaQueriesSupported){var e=d.document,h=e.documentElement,l=[],j=[],m=[],r={},s=e.getElementsByTagName("head")[0]||h,F=e.getElementsByTagName("base")[0],t=s.getElementsByTagName("link"),v=[],B=function(){for(var c=t.length,b=0,a,n,g,e;b<c;b++)a=t[b],n=a.href,g=a.media,e=a.rel&&"stylesheet"===a.rel.toLowerCase(),n&&(e&&!r[n])&&(a.styleSheet&&
a.styleSheet.rawCssText?(z(a.styleSheet.rawCssText,n,g),r[n]=!0):(!/^([a-zA-Z:]*\/\/)/.test(n)&&!F||n.replace(RegExp.$1,"").split("/")[0]===d.location.host)&&v.push({href:n,media:g}));A()},A=function(){if(v.length){var c=v.shift();var b=c.href,a=C();a&&(a.open("GET",b,!0),a.onreadystatechange=function(){4!=a.readyState||200!=a.status&&304!=a.status||(z(a.responseText,c.href,c.media),r[c.href]=!0,setTimeout(function(){A()},0))},4!=a.readyState&&a.send(null))}},z=function(c,b,a){var e=c.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),
g=e&&e.length||0;b=b.substring(0,b.lastIndexOf("/"));var d=function(a){return a.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+b+"$2$3")},k=!g&&a,h=0,q,p,f,m;b.length&&(b+="/");for(k&&(g=1);h<g;h++){q=0;k?(p=a,j.push(d(c))):(p=e[h].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1,j.push(RegExp.$2&&d(RegExp.$2)));f=p.split(",");for(m=f.length;q<m;q++)p=f[q],l.push({media:p.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:j.length-1,hasquery:-1<p.indexOf("("),minw:p.match(/\(min\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&
parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:p.match(/\(max\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}u()},w,D,E=function(){var c,b=e.createElement("div"),a=e.body,d=!1;b.style.cssText="position:absolute;font-size:1em;width:1em";a||(a=d=e.createElement("body"),a.style.background="none");a.appendChild(b);h.insertBefore(a,h.firstChild);c=b.offsetWidth;d?h.removeChild(a):a.removeChild(b);return c=x=parseFloat(c)},x,u=function(c){var b=h.clientWidth,a="CSS1Compat"===
e.compatMode&&b||e.body.clientWidth||b,b={},d=t[t.length-1],g=(new Date).getTime();if(c&&w&&30>g-w)clearTimeout(D),D=setTimeout(u,30);else{w=g;for(var f in l){c=l[f];var g=c.minw,k=c.maxw,r=null===g,q=null===k;g&&(g=parseFloat(g)*(-1<g.indexOf("em")?x||E():1));k&&(k=parseFloat(k)*(-1<k.indexOf("em")?x||E():1));if(!c.hasquery||(!r||!q)&&(r||a>=g)&&(q||a<=k))b[c.media]||(b[c.media]=[]),b[c.media].push(j[c.rules])}for(f in m)m[f]&&m[f].parentNode===s&&s.removeChild(m[f]);for(f in b)a=e.createElement("style"),
c=b[f].join("\n"),a.type="text/css",a.media=f,s.insertBefore(a,d.nextSibling),a.styleSheet?a.styleSheet.cssText=c:a.appendChild(e.createTextNode(c)),m.push(a)}},C,y=!1;try{y=new XMLHttpRequest}catch(G){y=new ActiveXObject("Microsoft.XMLHTTP")}C=function(){return y};B();respond.update=B;d.addEventListener?d.addEventListener("resize",f,!1):d.attachEvent&&d.attachEvent("onresize",f)}})(this);
